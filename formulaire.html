<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recevez votre Guide Personnel des Ã‰motions - Vision Vibrancy</title>

    <!-- ======== STYLES ORIGINAUX (inchangÃ©s) ======== -->
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{
            font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
            background:linear-gradient(135deg,#f8f6ff 0%,#ede7f6 50%,#f3e5f5 100%);
            color:#2c3e50;min-height:100vh;display:flex;align-items:center;justify-content:center;
            padding:20px;position:relative;
        }
        body::before{
            content:'';position:fixed;top:0;left:0;width:100%;height:100%;
            background:
                radial-gradient(circle at 20% 80%,rgba(156,39,176,.03) 0%,transparent 50%),
                radial-gradient(circle at 80% 20%,rgba(103,58,183,.03) 0%,transparent 50%),
                radial-gradient(circle at 40% 40%,rgba(233,30,99,.02) 0%,transparent 50%);
            z-index:-1;
        }
        .container{
            background:rgba(255,255,255,.95);border-radius:24px;padding:50px 40px;
            max-width:500px;width:100%;text-align:center;position:relative;
            backdrop-filter:blur(20px);border:1px solid rgba(156,39,176,.1);
            box-shadow:0 20px 60px rgba(156,39,176,.1),0 8px 32px rgba(0,0,0,.05);
            animation:slideUp .8s cubic-bezier(.23,1,.32,1);
        }
        /* â€¦(tout le CSS original suit, inchangÃ©)â€¦ */
        .header{margin-bottom:40px;}
        .brand-title{font-size:1.8em;font-weight:700;color:#9c27b0;margin-bottom:10px;letter-spacing:1px;text-transform:uppercase;}
        .guide-section{background:linear-gradient(135deg,#9c27b0,#673ab7);color:#fff;padding:30px;border-radius:20px;margin-bottom:35px;position:relative;overflow:hidden;}
        .guide-section::before{content:'';position:absolute;top:-50%;right:-50%;width:100%;height:100%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:float 6s ease-in-out infinite;}
        @keyframes float{0%,100%{transform:translate(0,0) rotate(0deg);}50%{transform:translate(-10px,-10px) rotate(180deg);}}
        .guide-section h1{font-size:1.5em;font-weight:700;margin-bottom:15px;position:relative;z-index:2;}
        .guide-section p{font-size:1em;opacity:.95;line-height:1.5;position:relative;z-index:2;}
        .emotion-wheel-container{margin:35px 0;display:flex;flex-direction:column;align-items:center;}
        .emotion-wheel-mini{width:140px;height:140px;border-radius:50%;position:relative;
            background:conic-gradient(
                from 0deg,
                #e91e63 0deg 30deg,#ff9800 30deg 60deg,#ffeb3b 60deg 90deg,
                #4caf50 90deg 120deg,#00bcd4 120deg 150deg,#2196f3 150deg 180deg,
                #3f51b5 180deg 210deg,#9c27b0 210deg 240deg,#e91e63 240deg 270deg,
                #ff5722 270deg 300deg,#795548 300deg 330deg,#607d8b 330deg 360deg
            );
            display:flex;align-items:center;justify-content:center;
            box-shadow:0 8px 32px rgba(156,39,176,.2),0 4px 16px rgba(0,0,0,.1);
            margin-bottom:20px;animation:gentle-spin 20s linear infinite;
        }
        @keyframes gentle-spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}
        .wheel-center{background:#fff;border-radius:50%;width:80px;height:80px;
            display:flex;align-items:center;justify-content:center;font-size:2em;color:#9c27b0;box-shadow:0 4px 16px rgba(0,0,0,.1);font-weight:bold;
        }
        .wheel-subtitle{font-size:.9em;color:#666;text-align:center;font-style:italic;}
        .form-group{margin-bottom:25px;text-align:left;}
        .form-group label{display:block;color:#2c3e50;font-weight:600;margin-bottom:8px;font-size:.95em;}
        .form-group input{width:100%;padding:16px 20px;background:#f8f6ff;border:2px solid #e8e0f5;border-radius:12px;
            color:#2c3e50;font-size:16px;transition:all .3s ease;}
        .form-group input::placeholder{color:#9c9c9c;}
        .form-group input:focus{outline:none;border-color:#9c27b0;background:#fff;
            box-shadow:0 0 0 3px rgba(156,39,176,.1),0 4px 16px rgba(156,39,176,.1);transform:translateY(-1px);}
        .submit-btn{width:100%;padding:18px;background:linear-gradient(135deg,#9c27b0,#673ab7);
            border:none;border-radius:50px;color:#fff;font-size:1.1em;font-weight:700;cursor:pointer;
            transition:all .3s ease;text-transform:uppercase;letter-spacing:.5px;margin-top:15px;position:relative;overflow:hidden;}
        .submit-btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
            background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease;}
        .submit-btn:hover::before{left:100%;}
        .submit-btn:hover{transform:translateY(-2px);box-shadow:0 12px 35px rgba(156,39,176,.3),0 4px 16px rgba(0,0,0,.1);}
        .submit-btn:active{transform:translateY(0);}
        .newsletter-consent{margin:30px 0;padding:20px;background:linear-gradient(135deg,#f8f6ff,#ede7f6);
            border-radius:16px;border:1px solid rgba(156,39,176,.1);}
        .checkbox-container{display:flex;align-items:flex-start;cursor:pointer;line-height:1.5;position:relative;font-size:.95em;color:#2c3e50;}
        .checkbox-container input[type=checkbox]{position:absolute;opacity:0;cursor:pointer;height:0;width:0;}
        .checkmark{min-width:22px;height:22px;background:#fff;border:2px solid #9c27b0;border-radius:6px;margin-right:12px;margin-top:2px;position:relative;transition:all .3s ease;}
        .checkbox-container:hover .checkmark{background:#f8f6ff;}
        .checkbox-container input:checked~.checkmark{background:linear-gradient(135deg,#9c27b0,#673ab7);border-color:#9c27b0;}
        .checkmark:after{content:"";position:absolute;display:none;left:6px;top:2px;width:6px;height:12px;border:solid #fff;border-width:0 2px 2px 0;transform:rotate(45deg);}
        .checkbox-container input:checked~.checkmark:after{display:block;}
        .checkbox-text{flex:1;}
        .checkbox-text strong{color:#9c27b0;font-weight:700;}
        .privacy-note{font-size:.85em;color:#666;margin-top:25px;line-height:1.4;text-align:center;background:#f8f6ff;
            padding:15px;border-radius:12px;border:1px solid rgba(156,39,176,.1);}
        @media(max-width:600px){
            .container{padding:35px 25px;margin:15px;}
            .brand-title{font-size:1.5em;}
            .guide-section h1{font-size:1.3em;}
            .emotion-wheel-mini{width:120px;height:120px;}
            .wheel-center{width:70px;height:70px;font-size:1.8em;}
            .form-group input{padding:14px 18px;font-size:16px;}
            .submit-btn{padding:16px;font-size:1em;}
        }
        @keyframes slideUp{from{opacity:0;transform:translateY(40px) scale(.95);}to{opacity:1;transform:translateY(0) scale(1);}}
        .loading{pointer-events:none;opacity:.7;}
        .loading .submit-btn{background:linear-gradient(135deg,#bbb,#999);cursor:not-allowed;}
    </style>
</head>

<body>
    <div class="container">
        <!-- En-tÃªte -->
        <div class="header"><div class="brand-title">Vision Vibrancy</div></div>

        <!-- Section violette -->
        <div class="guide-section">
            <h1>ðŸ“š Guide Complet des Ã‰motions</h1>
            <p>Recevez votre guide personnalisÃ© pour mieux comprendre et accueillir vos Ã©motions au quotidien</p>
        </div>

        <!-- Roue miniature -->
        <div class="emotion-wheel-container">
            <div class="emotion-wheel-mini"><div class="wheel-center">ðŸŽ¯</div></div>
            <div class="wheel-subtitle">Explorez et accueillez vos Ã©motions avec bienveillance</div>
        </div>

        <!-- Consentement newsletter -->
        <div class="newsletter-consent">
            <label class="checkbox-container">
                <input type="checkbox" id="newsletter" name="newsletter" checked required>
                <span class="checkmark"></span>
                <span class="checkbox-text">
                    J'accepte de recevoir la newsletter mensuelle <strong>"CrÃ©atrices en action"</strong>. Je peux me dÃ©sabonner Ã  tout moment.
                </span>
            </label>
        </div>

        <!-- ======== FORMULAIRE CONNECTÃ‰ Ã€ GOOGLE SHEETS ======== -->
        <form id="guideForm"
              action="https://script.google.com/macros/s/AKfycbzkVmYXU89L_TYAkd7nb6PTUOezYMHdvWevMQKjCDIjI6eTGseRfjPmSCFEKYgQB4MF/exec"
              method="POST"
              onsubmit="return handleSubmit(event)"
              novalidate>
            <div class="form-group">
                <label for="prenom">PrÃ©nom *</label>
                <input type="text" id="prenom" name="prenom" required placeholder="Votre prÃ©nom" autocomplete="given-name">
            </div>

            <div class="form-group">
                <label for="nom">Nom *</label>
                <input type="text" id="nom" name="nom" required placeholder="Votre nom" autocomplete="family-name">
            </div>

            <div class="form-group">
                <label for="email">Adresse e-mail *</label>
                <input type="email" id="email" name="email" required placeholder="votre@email.com" autocomplete="email">
            </div>

            <button type="submit" class="submit-btn"><span class="btn-text">ðŸ“§ Recevoir le Guide Gratuit</span></button>
        </form>

        <div class="privacy-note">
            ðŸ”’ Vos donnÃ©es sont protÃ©gÃ©es. Pas de spam, uniquement du contenu de qualitÃ© pour votre dÃ©veloppement personnel.
        </div>
    </div>

    <!-- ======== SCRIPT : validation + envoi vers Google Sheets + redirection ======== -->
    <script>
        // Soumission du formulaire
        function handleSubmit(e){
            e.preventDefault();

            // RÃ©cupÃ©ration des champs
            const prenom = document.getElementById('prenom').value.trim();
            const nom    = document.getElementById('nom'   ).value.trim();
            const email  = document.getElementById('email' ).value.trim();
            const consent= document.getElementById('newsletter').checked;

            // Validation basique
            if(!prenom || !nom || !email || !consent){
                alert("Veuillez remplir tous les champs et accepter la newsletter.");
                return false;
            }
            const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if(!emailRegex.test(email)){
                alert("Veuillez entrer une adresse e-mail valide."); return false;
            }

            // Ã‰tat de chargement
            setLoadingState(true);

            // Envoi vers Google Sheets
            fetch(e.target.action,{method:"POST",body:new FormData(e.target)})
            .then(()=>{ setLoadingState(false);
                // Redirection serveur rÃ©ussi
                window.location.href="https://ragain777.github.io/roue-emotions-visionvibrancy/roue.html";
            })
            .catch(()=>{
                setLoadingState(false);
                alert("Une erreur est survenue. Veuillez rÃ©essayer.");
            });
            return false;
        }

        // Gestion visuelle de l'Ã©tat de chargement
        function setLoadingState(loading){
            const form=document.getElementById('guideForm');
            const btn=document.querySelector('.submit-btn');
            const text=document.querySelector('.btn-text');
            if(loading){
                form.classList.add('loading');
                text.textContent="â³ Envoi en coursâ€¦";
                btn.disabled=true;
            }else{
                form.classList.remove('loading');
                text.textContent="ðŸ“§ Recevoir le Guide Gratuit";
                btn.disabled=false;
            }
        }

        // Animation d'apparition (inchangÃ©e)
        document.addEventListener('DOMContentLoaded',()=>{
            const els=document.querySelectorAll('.form-group, .newsletter-consent, .submit-btn');
            els.forEach((el,i)=>{
                el.style.opacity='0';el.style.transform='translateY(20px)';
                setTimeout(()=>{
                    el.style.transition='all .6s cubic-bezier(.23,1,.32,1)';
                    el.style.opacity='1';el.style.transform='translateY(0)';
                },200+100*i);
            });
        });
    </script>
</body>
</html>
